---
import AuthWidget from '../react/graphql-provided/AuthWidget';

interface Props {
  authPrompt: boolean;
}

const { authPrompt } = Astro.props;
const hasuraUri = import.meta.env.HASURA_GRAPHQL_URI as string;

const { DISCORD_CLIENT_ID, DISCORD_REDIRECT } = import.meta.env;
const discordOauthUrl = `
  https://discord.com/oauth2/authorize?client_id=${DISCORD_CLIENT_ID}&redirect_uri=${DISCORD_REDIRECT}&scope=identify&response_type=code`;
---

<AuthWidget
  client:only="react"
  authPrompt={authPrompt}
  discordOauthUrl={discordOauthUrl}
  hasuraUri={hasuraUri}
/>
